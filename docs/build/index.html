

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Slick Dependency Injection &mdash; Dependency Injection Container v1.0.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Dependency Injection Container v1.0.0 documentation" href="#"/>
        <link rel="next" title="Overview" href="manual/overview.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="#" class="icon icon-home"> Dependency Injection Container
          

          
          </a>

          
            
            
              <div class="version">
                v1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="manual/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="cookbook/definitions.html">Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="cookbook/container.html">Container usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/contrib.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Dependency Injection Container</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>Slick Dependency Injection</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/slickframework/di/blob/master/doc/index.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="slick-dependency-injection">
<h1>Slick Dependency Injection<a class="headerlink" href="#slick-dependency-injection" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal"><span class="pre">slick/di</span></code> is an easy dependency injection container for PHP 5.5+. It aims to
be very lightweight and tries to remove a lot of the <em>guessing</em> and <em>magic</em>
stuff that dependency containers use those days. It also allows you to nest
containers witch can become very useful if you have several packages that you
reuse in your applications, allowing you to define containers with default
dependencies in those packages overriding and using them in your application.</p>
<p>There are a lot of implementations of a dependency injection container out there
and some of them are really good. Some examples are the
<a class="reference external" href="https://symfony.com/doc/current/components/dependency_injection.html">Symfony Dependency Injection Component</a>, <a class="reference external" href="https://framework.zend.com/manual/2.4/en/modules/zend.di.introduction.html">Zend 2 Dependency Injection</a>,
<a class="reference external" href="http://container.thephpleague.com/">The PHP league container</a>, or <a class="reference external" href="http://php-di.org/">PHP-DI</a> just to name a few.</p>
<div class="section" id="dependency-injection-container-quick-start">
<h2>Dependency injection container quick start<a class="headerlink" href="#dependency-injection-container-quick-start" title="Permalink to this headline">¶</a></h2>
<p>To create a dependency container lets create a <code class="docutils literal"><span class="pre">services.php</span></code> file with all our
dependency definitions:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Slick\Configuration\Configuration</span><span class="o">:</span>
<span class="k">use</span> <span class="nx">Slick\Di\Definition\ObjectDefinition</span><span class="p">;</span>

<span class="sd">/**</span>
<span class="sd"> * Dependency injection object definition example</span>
<span class="sd"> */</span>
<span class="k">return</span> <span class="p">[</span>
    <span class="s1">&#39;config&#39;</span> <span class="o">=&gt;</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">Configuration</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;config&#39;</span><span class="p">);</span>
    <span class="p">},</span>
    <span class="nx">Engine</span><span class="o">::</span><span class="na">class</span> <span class="o">=&gt;</span> <span class="nx">ObjectDefinition</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="nx">Engine</span><span class="o">::</span><span class="na">class</span><span class="p">)</span>
        <span class="o">-&gt;</span><span class="na">setConstructArgs</span><span class="p">([</span><span class="s1">&#39;@config&#39;</span><span class="p">])</span>
        <span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="s1">&#39;setMode&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;simple&#39;</span><span class="p">])</span>
<span class="p">];</span>
</pre></div>
</div>
<p>Create a dependency container with <code class="docutils literal"><span class="pre">ContainerBuilder</span></code>:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">Slick\Di\ContainerBuilder</span><span class="p">;</span>

<span class="nv">$container</span> <span class="o">=</span> <span class="p">(</span><span class="k">new</span> <span class="nx">ContainerBuilder</span><span class="p">(</span><span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">&#39;/services.php&#39;</span><span class="p">))</span><span class="o">-&gt;</span><span class="na">getContainer</span><span class="p">();</span>
</pre></div>
</div>
<p>Now you are ready to create and inject dependencies with your container:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Car</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @var Engine</span>
<span class="sd">     */</span>
    <span class="k">protected</span> <span class="nv">$engine</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nx">Engine</span> <span class="nv">$engine</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">engine</span> <span class="o">=</span> <span class="nv">$engine</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nv">$myCar</span> <span class="o">=</span> <span class="nv">$container</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="nx">Car</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
</pre></div>
</div>
<p>That&#8217;s it!</p>
</div>
<div class="section" id="user-guide">
<h2>User guide<a class="headerlink" href="#user-guide" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="manual/overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="manual/overview.html#dependency-injection">Dependency Injection</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual/overview.html#dependency-injection-container">Dependency Injection Container</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="manual/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="cookbook/definitions.html">Definitions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cookbook/definitions.html#value-definition">Value definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="cookbook/definitions.html#factory-callable-definition">Factory (callable) definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="cookbook/definitions.html#alias-definition">Alias definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="cookbook/definitions.html#object-definition">Object definition</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cookbook/container.html">Container usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cookbook/container.html#constructor-injection">Constructor injection</a></li>
<li class="toctree-l2"><a class="reference internal" href="cookbook/container.html#setter-injection">Setter injection</a></li>
<li class="toctree-l2"><a class="reference internal" href="cookbook/container.html#property-injection">Property injection</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="manual/contrib.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="manual/contrib.html#pull-requests">Pull requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual/contrib.html#running-tests">Running tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual/contrib.html#security">Security</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="manual/license.html">License</a></li>
</ul>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="manual/overview.html" class="btn btn-neutral float-right" title="Overview" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Slick Team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'v1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>